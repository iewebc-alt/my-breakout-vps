#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ Git
# –ü—É—Ç—å: /var/www/breakout_dev

# –¶–≤–µ—Ç–∞ –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã
GREEN='\033[0;32m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo -e "${BLUE}üöÄ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –≤ Git...${NC}"

# 1. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/breakout_dev || exit

# 2. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–∫—Ä–∞—Ç–∫–æ)
git status -s

# 3. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
echo -e "\n${BLUE}üí¨ –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∫–æ–º–º–∏—Ç—É (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –∞–≤—Ç–æ-–¥–∞—Ç—ã):${NC}"
read commit_message

# –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—É—Å—Ç–æ–µ, —Å–æ–∑–¥–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ
if [ -z "$commit_message" ]; then
    commit_message="Update: $(date +'%Y-%m-%d %H:%M:%S')"
fi

# 4. –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .

# 5. –î–µ–ª–∞–µ–º –∫–æ–º–º–∏—Ç
git commit -m "$commit_message"

# 6. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
echo -e "${GREEN}üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ GitHub...${NC}"
git push origin main

echo -e "${GREEN}‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º: \"$commit_message\"${NC}"
